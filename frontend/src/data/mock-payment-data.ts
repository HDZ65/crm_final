import type { Payment, PaymentStats } from "@/types/payment"

// Génération de données mock réalistes pour les paiements
export const mockPayments: Payment[] = [
  // France Téléphone - Lot L1
  {
    id: "1",
    payment_reference: "PAY-FT-2024-001",
    client_id: "C001",
    client_name: "Dupont Marie",
    contract_id: "CONT-FT-2024-0234",
    contract_reference: "FT-2024-0234",
    company: "France Téléphone",
    amount: 12.99,
    currency: "EUR",
    payment_method: "SEPA",
    status: "PAID",
    payment_type: "EMISSION",
    psp_provider: "Slimpay",
    psp_transaction_id: "SLP-TX-45678",
    planned_debit_date: "2024-11-01",
    actual_debit_date: "2024-11-01",
    preferred_debit_day: 1,
    debit_lot: "L1",
    risk_score: 25,
    risk_tier: "LOW",
    commercial_name: "ZVING MONIQUE",
    source_channel: "TELEFILTRAGE",
    rum: "FR76FT20240234",
    iban_masked: "FR76 **** **** 1234",
    product_name: "Assistance Téléphone Premium",
    product_code: "FT-AST-001",
    created_at: "2024-10-15T10:00:00Z",
    updated_at: "2024-11-01T14:30:00Z",
    submitted_at: "2024-11-01T02:15:00Z",
    paid_at: "2024-11-01T14:30:00Z",
  },

  // Mondial TV - Lot L2 - Rejet AM04
  {
    id: "2",
    payment_reference: "PAY-MTV-2024-002",
    client_id: "C002",
    client_name: "Martin Pierre",
    contract_id: "CONT-MTV-2024-0156",
    contract_reference: "MTV-2024-0156",
    company: "Mondial TV",
    amount: 24.9,
    currency: "EUR",
    payment_method: "SEPA",
    status: "REJECT_INSUFF_FUNDS",
    payment_type: "EMISSION",
    psp_provider: "MultiSafepay",
    psp_transaction_id: "MSP-TX-78901",
    planned_debit_date: "2024-11-08",
    actual_debit_date: "2024-11-08",
    preferred_debit_day: 8,
    debit_lot: "L2",
    risk_score: 68,
    risk_tier: "MEDIUM",
    retry_count: 0,
    max_retry_attempts: 3,
    next_retry_date: "2024-11-13",
    commercial_name: "ZWILLER MARC",
    source_channel: "TERRAIN",
    rum: "FR76MTV20240156",
    iban_masked: "FR76 **** **** 5678",
    product_name: "Bleulec Assur Premium",
    product_code: "MTV-BLA-003",
    created_at: "2024-10-20T11:00:00Z",
    updated_at: "2024-11-08T15:45:00Z",
    submitted_at: "2024-11-08T02:20:00Z",
    reject_reason: "Insuffisance de fonds",
    reject_code: "AM04",
  },

  // Action Prévoyance - Lot L3
  {
    id: "3",
    payment_reference: "PAY-AP-2024-003",
    client_id: "C003",
    client_name: "Dubois Sophie",
    contract_id: "CONT-AP-2024-0789",
    contract_reference: "AP-2024-0789",
    company: "Action Prévoyance",
    amount: 52.0,
    currency: "EUR",
    payment_method: "SEPA",
    status: "PAID",
    payment_type: "EMISSION",
    psp_provider: "Emerchantpay",
    psp_transaction_id: "EMP-TX-23456",
    planned_debit_date: "2024-11-15",
    actual_debit_date: "2024-11-15",
    preferred_debit_day: 15,
    debit_lot: "L3",
    risk_score: 15,
    risk_tier: "LOW",
    commercial_name: "ACHO Marie-thérèse",
    source_channel: "INTERNET",
    rum: "FR76AP20240789",
    iban_masked: "FR76 **** **** 9012",
    product_name: "Santé Essentielle",
    product_code: "AP-SAN-001",
    created_at: "2024-10-25T09:00:00Z",
    updated_at: "2024-11-15T16:00:00Z",
    submitted_at: "2024-11-15T02:10:00Z",
    paid_at: "2024-11-15T16:00:00Z",
  },

  // Dépanssur - Lot L4 - En attente
  {
    id: "4",
    payment_reference: "PAY-DPS-2024-004",
    client_id: "C004",
    client_name: "Lefebvre Thomas",
    contract_id: "CONT-DPS-2024-0567",
    contract_reference: "DPS-2024-0567",
    company: "Dépanssur",
    amount: 45.0,
    currency: "EUR",
    payment_method: "SEPA",
    status: "PENDING",
    payment_type: "EMISSION",
    psp_provider: "GoCardless",
    planned_debit_date: "2024-11-22",
    preferred_debit_day: 22,
    debit_lot: "L4",
    risk_score: 42,
    risk_tier: "MEDIUM",
    commercial_name: "ZWING ZWILLER MARC",
    source_channel: "PARTENAIRE",
    rum: "FR76DPS20240567",
    iban_masked: "FR76 **** **** 3456",
    product_name: "Multirisques Habitation Confort",
    product_code: "DPS-MRH-001",
    created_at: "2024-11-01T10:00:00Z",
    updated_at: "2024-11-10T08:00:00Z",
  },

  // France Téléphone - Carte Bancaire - Payé
  {
    id: "5",
    payment_reference: "PAY-FT-2024-005",
    client_id: "C005",
    client_name: "Bernard Julie",
    contract_id: "CONT-FT-2024-0890",
    contract_reference: "FT-2024-0890",
    company: "France Téléphone",
    amount: 8.5,
    currency: "EUR",
    payment_method: "CB",
    status: "PAID",
    payment_type: "EMISSION",
    psp_provider: "MultiSafepay",
    psp_transaction_id: "MSP-CB-56789",
    planned_debit_date: "2024-11-05",
    actual_debit_date: "2024-11-05",
    preferred_debit_day: 5,
    risk_score: 10,
    risk_tier: "LOW",
    commercial_name: "ZVING MONIQUE",
    source_channel: "INTERNET",
    product_name: "Protection Juridique Télécom",
    product_code: "FT-PJ-001",
    created_at: "2024-10-18T14:00:00Z",
    updated_at: "2024-11-05T10:30:00Z",
    submitted_at: "2024-11-05T09:15:00Z",
    paid_at: "2024-11-05T10:30:00Z",
  },

  // Action Prévoyance - Réémission (2ème tentative)
  {
    id: "6",
    payment_reference: "PAY-AP-2024-006",
    client_id: "C006",
    client_name: "Rousseau Antoine",
    contract_id: "CONT-AP-2024-0234",
    contract_reference: "AP-2024-0234",
    company: "Action Prévoyance",
    amount: 28.5,
    currency: "EUR",
    payment_method: "SEPA",
    status: "SUBMITTED",
    payment_type: "REEMISSION",
    psp_provider: "Slimpay",
    psp_transaction_id: "SLP-TX-67890",
    planned_debit_date: "2024-11-12",
    preferred_debit_day: 2,
    debit_lot: "L1",
    risk_score: 75,
    risk_tier: "HIGH",
    retry_count: 1,
    max_retry_attempts: 3,
    commercial_name: "ZYRA JOSIANE",
    source_channel: "TELEFILTRAGE",
    rum: "FR76AP20240234",
    iban_masked: "FR76 **** **** 7890",
    product_name: "Décès Toutes Causes",
    product_code: "AP-DEC-001",
    created_at: "2024-10-01T10:00:00Z",
    updated_at: "2024-11-12T02:15:00Z",
    submitted_at: "2024-11-12T02:15:00Z",
    notes: "1ère tentative rejetée AM04 le 07/11",
  },

  // Mondial TV - Remboursement
  {
    id: "7",
    payment_reference: "PAY-MTV-2024-007",
    client_id: "C007",
    client_name: "Moreau Isabelle",
    contract_id: "CONT-MTV-2024-0456",
    contract_reference: "MTV-2024-0456",
    company: "Mondial TV",
    amount: 129.0,
    currency: "EUR",
    payment_method: "SEPA",
    status: "REFUNDED",
    payment_type: "REFUND",
    psp_provider: "MultiSafepay",
    psp_transaction_id: "MSP-TX-98765",
    planned_debit_date: "2024-10-10",
    actual_debit_date: "2024-10-10",
    preferred_debit_day: 10,
    debit_lot: "L2",
    risk_score: 20,
    risk_tier: "LOW",
    commercial_name: "ZWILLER MARC",
    source_channel: "TERRAIN",
    rum: "FR76MTV20240456",
    iban_masked: "FR76 **** **** 2345",
    product_name: "Bleulec Extension Garantie 5 ans",
    product_code: "MTV-BL-002",
    created_at: "2024-09-15T10:00:00Z",
    updated_at: "2024-11-05T14:00:00Z",
    submitted_at: "2024-10-10T02:10:00Z",
    paid_at: "2024-10-10T15:00:00Z",
    notes: "Remboursement suite annulation contrat",
  },

  // Dépanssur - Rejet autre motif
  {
    id: "8",
    payment_reference: "PAY-DPS-2024-008",
    client_id: "C008",
    client_name: "Blanc François",
    contract_id: "CONT-DPS-2024-0123",
    contract_reference: "DPS-2024-0123",
    company: "Dépanssur",
    amount: 19.9,
    currency: "EUR",
    payment_method: "SEPA",
    status: "REJECT_OTHER",
    payment_type: "EMISSION",
    psp_provider: "GoCardless",
    psp_transaction_id: "GC-TX-12345",
    planned_debit_date: "2024-11-03",
    actual_debit_date: "2024-11-03",
    preferred_debit_day: 3,
    debit_lot: "L1",
    risk_score: 55,
    risk_tier: "MEDIUM",
    commercial_name: "ACHO Marie-thérèse",
    source_channel: "INTERNET",
    rum: "FR76DPS20240123",
    iban_masked: "FR76 **** **** 6789",
    product_name: "Garantie des Accidents de la Vie",
    product_code: "DPS-GAV-001",
    created_at: "2024-10-05T10:00:00Z",
    updated_at: "2024-11-03T16:00:00Z",
    submitted_at: "2024-11-03T02:05:00Z",
    reject_reason: "IBAN invalide",
    reject_code: "AC01",
  },

  // France Téléphone - Lot L2 - Soumis
  {
    id: "9",
    payment_reference: "PAY-FT-2024-009",
    client_id: "C009",
    client_name: "Petit Caroline",
    contract_id: "CONT-FT-2024-0678",
    contract_reference: "FT-2024-0678",
    company: "France Téléphone",
    amount: 12.99,
    currency: "EUR",
    payment_method: "SEPA",
    status: "SUBMITTED",
    payment_type: "EMISSION",
    psp_provider: "Slimpay",
    psp_transaction_id: "SLP-TX-11223",
    planned_debit_date: "2024-11-09",
    preferred_debit_day: 9,
    debit_lot: "L2",
    risk_score: 30,
    risk_tier: "LOW",
    commercial_name: "ZVING MONIQUE",
    source_channel: "TELEFILTRAGE",
    rum: "FR76FT20240678",
    iban_masked: "FR76 **** **** 4567",
    product_name: "Assistance Téléphone Premium",
    product_code: "FT-AST-001",
    created_at: "2024-10-22T10:00:00Z",
    updated_at: "2024-11-09T02:20:00Z",
    submitted_at: "2024-11-09T02:20:00Z",
  },

  // Action Prévoyance - Lot L4 - Annulé
  {
    id: "10",
    payment_reference: "PAY-AP-2024-010",
    client_id: "C010",
    client_name: "Gauthier Émilie",
    contract_id: "CONT-AP-2024-0901",
    contract_reference: "AP-2024-0901",
    company: "Action Prévoyance",
    amount: 89.0,
    currency: "EUR",
    payment_method: "SEPA",
    status: "CANCELLED",
    payment_type: "CANCELLATION",
    psp_provider: "Emerchantpay",
    planned_debit_date: "2024-11-20",
    preferred_debit_day: 20,
    debit_lot: "L4",
    risk_score: 12,
    risk_tier: "LOW",
    commercial_name: "ZYRA JOSIANE",
    source_channel: "PARTENAIRE",
    rum: "FR76AP20240901",
    iban_masked: "FR76 **** **** 8901",
    product_name: "Santé Optimale",
    product_code: "AP-SAN-002",
    created_at: "2024-10-28T10:00:00Z",
    updated_at: "2024-11-08T11:00:00Z",
    notes: "Annulé par le client avant prélèvement",
  },
]

// Statistiques mock
export const mockPaymentStats: PaymentStats = {
  total_payments: mockPayments.length,
  total_amount: mockPayments.reduce((sum, p) => sum + p.amount, 0),
  paid_count: mockPayments.filter((p) => p.status === "PAID").length,
  paid_amount: mockPayments
    .filter((p) => p.status === "PAID")
    .reduce((sum, p) => sum + p.amount, 0),
  pending_count: mockPayments.filter((p) => p.status === "PENDING").length,
  pending_amount: mockPayments
    .filter((p) => p.status === "PENDING")
    .reduce((sum, p) => sum + p.amount, 0),
  rejected_count: mockPayments.filter(
    (p) => p.status === "REJECT_INSUFF_FUNDS" || p.status === "REJECT_OTHER"
  ).length,
  rejected_amount: mockPayments
    .filter(
      (p) => p.status === "REJECT_INSUFF_FUNDS" || p.status === "REJECT_OTHER"
    )
    .reduce((sum, p) => sum + p.amount, 0),
  reject_rate: 0,
  average_amount: 0,
}

// Calculer le taux de rejet et montant moyen
mockPaymentStats.reject_rate =
  mockPaymentStats.total_payments > 0
    ? (mockPaymentStats.rejected_count / mockPaymentStats.total_payments) * 100
    : 0
mockPaymentStats.average_amount =
  mockPaymentStats.total_payments > 0
    ? mockPaymentStats.total_amount / mockPaymentStats.total_payments
    : 0
